import{j as I,r as m,aV as f,f as n,aW as _,aG as p,aH as R,aI as x,aR as e,aJ as g,a9 as C,aK as k,aN as c,aU as w}from"./index-3d012cba.js";import{M as B}from"./index-a4bd2295.js";const E={class:"statistics"},y={class:"records"},M={class:"title"},N={class:"row"},T={class:"value"},F={class:"row"},J={class:"value"},V={class:"row"},W={class:"value"},$=I({__name:"Statistics",emits:["close"],setup(j){const h=m(!0),o=m(JSON.parse(localStorage.getItem(f)??"null")),i=n(()=>{var t;return((t=o.value)==null?void 0:t[1])||[]}),r=n(()=>{var t;return((t=o.value)==null?void 0:t[2])||[]}),d=n(()=>{var t;return((t=o.value)==null?void 0:t[3])||[]}),v=t=>t.length===0?"0.00%":(100*t.filter(l=>l[0]==="complete").length/t.length).toFixed(2)+"%",u=t=>{const s=t.filter(l=>l[0]==="complete");return s.length===0?0:Math.min(...s.map(l=>l[1]))},b=n(()=>[{title:"简单",successRate:v(i.value),total:i.value.length,best:_(u(i.value))},{title:"中等",successRate:v(r.value),total:r.value.length,best:_(u(r.value))},{title:"困难",successRate:v(d.value),total:d.value.length,best:_(u(d.value))}]),S=()=>{localStorage.removeItem(f),o.value=null};return(t,s)=>{const l=B;return p(),R(l,{visible:h.value,title:"战绩统计",width:"800px",centered:"",footer:null,onCancel:s[0]||(s[0]=a=>t.$emit("close"))},{default:x(()=>[e("div",E,[e("div",y,[(p(!0),g(C,null,k(b.value,a=>(p(),g("div",{key:a.title,class:"item"},[e("h2",M,c(a.title),1),e("div",N,[s[1]||(s[1]=e("div",{class:"label"}," 胜  率： ",-1)),e("div",T,c(a.successRate),1)]),e("div",F,[s[2]||(s[2]=e("div",{class:"label"}," 已玩局数： ",-1)),e("div",J,c(a.total),1)]),e("div",V,[s[3]||(s[3]=e("div",{class:"label"}," 最佳记录： ",-1)),e("div",W,c(a.best),1)])]))),128))]),e("div",{class:"operations"},[e("div",{class:"btn btn-clear",onClick:S}," 清空记录 ")])])]),_:1},8,["visible"])}}});const G=w($,[["__scopeId","data-v-96e2d3a0"]]);export{G as default};
